{
    "definitions": {
        "point": {
            "type": "array",
            "minItems": 3,
            "maxItems": 3
        },

        "empty_object": {"type": "object", "additionalProperties": false},

        "neurite": {
            "type": "object",
            "properties": {
                "apical_distance": {"type": "number"},
                "bias": {"type": "number"},
                "bias_length": {"type": "number"},
                "branching_method": {"type": "string"},
                "growth_method": {"type": "string",
                                  "enum": ["tmd", "tmd_gradient", "tmd_apical", "trunk"]},
                "has_apical_tuft": {"type": "boolean"},
                "metric": {"type": "string"},
                "modify": {"oneOf": [{"type": "object"}, {"type": "null"}]},
                "num_seg": {"type": "integer"},
                "orientation": {"anyOf": [{"type": "null"},
                                          {"type": "array",
                                           "items": {"$ref": "#/definitions/point"}}]},
                "radius": {"type": "number"},
                "randomness": {"type": "number"},
                "step_size": {
                    "type": "object",
                    "properties": {
                        "norm": {
                            "type": "object",
                            "properties": {
                                "mean": {"type": "number"},
                                "std": {"type": "number"}
                            }
                        }
                    }
                },
                "targeting": {"type": "number"},
                "tree_type": {"type": "integer"}
            },
            "required": [
                "branching_method",
                "growth_method",
                "metric",
                "modify",
                "orientation",
                "radius",
                "randomness",
                "targeting",
                "tree_type"
            ],
            "additionalProperties": false
        }
    },

    "type": "object",
    "properties": {
        "apical": {"oneOf": [{"$ref": "#/definitions/empty_object"},
                             {"$ref": "#/definitions/neurite"}]},
        "axon": {"oneOf": [{"$ref": "#/definitions/empty_object"},
                           {"$ref": "#/definitions/neurite"}]},
        "basal": {"$ref": "#/definitions/neurite"},
        "grow_types": {"type": "array",
                       "items": {"type": "string", "enum": ["basal", "apical"]}
                       },
        "origin": {"$ref": "#/definitions/point"},
        "diameter_params": {
            "type": "object",
            "properties": {"method": {"type": "string"}},
            "required": ["method"]
        }
    },

    "required": ["origin", "diameter_params", "grow_types"]
}
